<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal Dream Hyundai</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        header {
            background: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
        }
        .container {
            width: 80%;
            margin: auto;
        }
        .tabs {
            display: flex;
            cursor: pointer;
            margin: 20px 0;
        }
        .tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 5px 5px 0 0;
            margin-right: 2px;
        }
        .tab.active {
            background: #fff;
            border-bottom: none;
            font-weight: bold;
        }
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 0 0 5px 5px;
            background: #fff;
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input,
        .form-group select,
        .form-group textarea,
        .form-group button {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .form-group button {
            background: #333;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        .form-group button:hover {
            background: #555;
        }
        .results {
            margin-top: 20px;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
        .popup.active {
            display: block;
        }
        .popup-header {
            font-size: 18px;
            margin-bottom: 10px;
        }
        .popup-close {
            float: right;
            cursor: pointer;
            font-size: 18px;
        }
        .popup-content {
            margin-top: 20px;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        .overlay.active {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <h1>Royal Dream Hyundai</h1>
    </header>
    <div class="container">
        <div class="tabs">
            <div class="tab active" onclick="showTab('vehicle-management')">Vehicle Management</div>
            <div class="tab" onclick="showTab('data-entry-form')">Data Entry Form</div>
            <div class="tab" onclick="showTab('inspection')">Vehicle Inspection</div>
            <div class="tab" onclick="showTab('parts-inventory')">Parts Inventory</div>
            <div class="tab" onclick="showTab('parts-request')">Parts Request</div>
            <div class="tab" onclick="showTab('parts-history')">Parts History</div>
            <div class="tab" onclick="showTab('parts-check')">Parts Check</div>
            <div class="tab" onclick="showTab('parts-issued-history')">Parts Issued History</div>
            <div class="tab" onclick="showTab('billing-payment')">Billing & Payment</div>
        </div>

        <!-- Vehicle Management Tab -->
        <div id="vehicle-management" class="tab-content active">
            <h2>Vehicle Management</h2>
            <div class="form-group">
                <label for="search_vin">Search by VIN:</label>
                <input type="text" id="search_vin">
            </div>
            <div class="form-group">
                <label for="search_reg">Search by Registration Number:</label>
                <input type="text" id="search_reg">
            </div>
            <button onclick="searchVehicle()">Search</button>
            <div id="vehicle-results" class="results"></div>
        </div>

        <!-- Data Entry Form Tab -->
        <div id="data-entry-form" class="tab-content">
            <h2>Data Entry Form</h2>
            <div class="form-group">
                <label for="customer_name">Customer Name:</label>
                <input type="text" id="customer_name">
            </div>
            <div class="form-group">
                <label for="mobile_number">Mobile Number:</label>
                <input type="text" id="mobile_number">
            </div>
            <div class="form-group">
                <label for="vin_number">VIN Number:</label>
                <input type="text" id="vin_number">
            </div>
            <div class="form-group">
                <label for="registration_number">Registration Number:</label>
                <input type="text" id="registration_number">
            </div>
            <div class="form-group">
                <label for="current_mileage">Current Mileage:</label>
                <input type="number" id="current_mileage">
            </div>
            <button onclick="submitDataEntry()">Submit</button>
            <div id="token-info" class="results"></div>
        </div>

        <!-- Vehicle Inspection Tab -->
        <div id="inspection" class="tab-content">
            <h2>Vehicle Inspection</h2>
            <form id="inspection-form">
                <div class="form-group">
                    <label for="inspection_vin">VIN Number:</label>
                    <input type="text" id="inspection_vin">
                </div>
                <div class="form-group">
                    <label for="inspection_details">Inspection Details:</label>
                    <textarea id="inspection_details"></textarea>
                </div>
                <div class="form-group">
                    <label for="inspection_photo">Upload Photo:</label>
                    <input type="file" id="inspection_photo">
                </div>
                <button type="button" onclick="submitInspection()">Submit Inspection</button>
            </form>
        </div>

        <!-- Parts Inventory Tab -->
        <div id="parts-inventory" class="tab-content">
            <h2>Parts Inventory</h2>
            <div class="form-group">
                <label for="part_number">Part Number:</label>
                <input type="text" id="part_number">
            </div>
            <div class="form-group">
                <label for="part_name">Part Name:</label>
                <input type="text" id="part_name">
            </div>
            <div class="form-group">
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity">
            </div>
            <button onclick="addPart()">Add Part</button>
            <div class="form-group">
                <label for="import-file">Import Parts (CSV/XLSX):</label>
                <input type="file" id="import-file">
                <button onclick="importParts()">Import</button>
            </div>
        </div>

        <!-- Parts Request Tab -->
        <div id="parts-request" class="tab-content">
            <h2>Parts Request</h2>
            <form id="parts-request-form">
                <div class="form-group">
                    <label for="request_part_number">Part Number:</label>
                    <input type="text" id="request_part_number">
                </div>
                <div class="form-group">
                    <label for="request_quantity">Quantity:</label>
                    <input type="number" id="request_quantity">
                </div>
                <button type="button" onclick="submitPartsRequest()">Submit Request</button>
            </form>
        </div>

        <!-- Parts History Tab -->
        <div id="parts-history" class="tab-content">
            <h2>Parts History</h2>
            <div class="form-group">
                <label for="history_identifier">Part Number/Name:</label>
                <input type="text" id="history_identifier">
            </div>
            <button type="button" onclick="searchPartsHistory()">Search</button>
            <div id="parts-history-results" class="results"></div>
        </div>

        <!-- Parts Check Tab -->
        <div id="parts-check" class="tab-content">
            <h2>Parts Check</h2>
            <div class="form-group">
                <label for="check_part_number">Part Number:</label>
                <input type="text" id="check_part_number">
            </div>
            <button type="button" onclick="checkPart()">Check</button>
            <div id="parts-check-results" class="results"></div>
        </div>

        <!-- Parts Issued History Tab -->
        <div id="parts-issued-history" class="tab-content">
            <h2>Parts Issued History</h2>
            <div class="form-group">
                <label for="issued_history_vehicle_number">Vehicle Number:</label>
                <input type="text" id="issued_history_vehicle_number">
            </div>
            <div class="form-group">
                <label for="issued_history_date">Date:</label>
                <input type="date" id="issued_history_date">
            </div>
            <button type="button" onclick="searchIssuedHistory()">Search</button>
            <div id="issued-history-results" class="results"></div>
        </div>

        <!-- Billing & Payment Tab -->
        <div id="billing-payment" class="tab-content">
            <h2>Billing & Payment</h2>
            <div class="form-group">
                <label for="gdms_billing_number">GDMS Billing Number:</label>
                <input type="text" id="gdms_billing_number">
            </div>
            <div class="form-group">
                <label for="receipt_no">Receipt Number:</label>
                <input type="text" id="receipt_no">
            </div>
            <div class="form-group">
                <label for="payment_date">Payment Date:</label>
                <input type="date" id="payment_date">
            </div>
            <div class="form-group">
                <label for="payment_mode">Payment Mode:</label>
                <select id="payment_mode">
                    <option>Cash</option>
                    <option>Credit Card</option>
                    <option>Debit Card</option>
                    <option>Bank Transfer</option>
                </select>
            </div>
            <div class="form-group">
                <label for="payment_details">Payment Details:</label>
                <input type="text" id="payment_details">
            </div>
            <div class="form-group">
                <label for="amount">Amount:</label>
                <input type="number" id="amount">
            </div>
            <div class="form-group">
                <label for="amount_words">Amount in Words:</label>
                <input type="text" id="amount_words">
            </div>
            <button type="button" onclick="submitBillingPayment()">Submit</button>
        </div>
    </div>

    <!-- Overlay for Popups -->
    <div id="overlay" class="overlay"></div>

    <!-- Popup Example -->
    <div id="popup" class="popup">
        <div class="popup-header">
            <span class="popup-close" onclick="closePopup()">&times;</span>
            Popup Title
        </div>
        <div class="popup-content">
            <p>Popup content goes here.</p>
        </div>
    </div>

    <script>
        function showTab(tabId) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(tabContent => {
                tabContent.classList.remove('active');
            });
            document.querySelector(`.tab[onclick="showTab('${tabId}')"]`).classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        function searchVehicle() {
            const vin = document.getElementById('search_vin').value;
            const reg = document.getElementById('search_reg').value;
            fetch('/search_vehicle', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ vin, reg })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('vehicle-results').innerText = `Vehicle Info: ${JSON.stringify(data.vehicle) || 'Not found'}`;
            });
        }

        function submitDataEntry() {
            const customerName = document.getElementById('customer_name').value;
            const mobileNumber = document.getElementById('mobile_number').value;
            const vinNumber = document.getElementById('vin_number').value;
            const registrationNumber = document.getElementById('registration_number').value;
            const currentMileage = document.getElementById('current_mileage').value;
            fetch('/submit_data_entry', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ customer_name: customerName, mobile_number: mobileNumber, vin_number: vinNumber, registration_number: registrationNumber, current_mileage: currentMileage })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('token-info').innerText = `Token Number: ${data.token_number}`;
            });
        }

        function submitInspection() {
            // Implement the inspection submission
        }

        function addPart() {
            const partNumber = document.getElementById('part_number').value;
            const partName = document.getElementById('part_name').value;
            const quantity = document.getElementById('quantity').value;
            fetch('/add_part', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ part_number: partNumber, part_name: partName, quantity })
            })
            .then(response => response.json())
            .then(data => {
                alert('Part added successfully!');
            });
        }

        function importParts() {
            // Implement file upload and import logic
        }

        function submitPartsRequest() {
            // Implement parts request submission
        }

        function searchPartsHistory() {
            const identifier = document.getElementById('history_identifier').value;
            fetch('/search_parts_history', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ identifier })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('parts-history-results').innerText = `Parts History: ${JSON.stringify(data.history)}`;
            });
        }

        function checkPart() {
            const partNumber = document.getElementById('check_part_number').value;
            fetch('/check_part', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ partNumber })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('parts-check-results').innerText = `Part Info: ${JSON.stringify(data.part) || 'Not found'}`;
            });
        }

        function searchIssuedHistory() {
            const vehicleNumber = document.getElementById('issued_history_vehicle_number').value;
            const date = document.getElementById('issued_history_date').value;
            fetch('/search_issued_history', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ vehicleNumber, date })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('issued-history-results').innerText = `Issued History: ${JSON.stringify(data.history)}`;
            });
        }

        function submitBillingPayment() {
            const gdmsBillingNumber = document.getElementById('gdms_billing_number').value;
            const receiptNo = document.getElementById('receipt_no').value;
            const paymentDate = document.getElementById('payment_date').value;
            const paymentMode = document.getElementById('payment_mode').value;
            const paymentDetails = document.getElementById('payment_details').value;
            const amount = document.getElementById('amount').value;
            const amountWords = document.getElementById('amount_words').value;
            fetch('/submit_billing_payment', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ gdms_billing_number: gdmsBillingNumber, receipt_no: receiptNo, payment_date: paymentDate, payment_mode: paymentMode, payment_details: paymentDetails, amount, amount_words: amountWords })
            })
            .then(response => response.json())
            .then(data => {
                alert('Billing and Payment details submitted successfully!');
            });
        }

        function showPopup() {
            document.getElementById('popup').classList.add('active');
            document.getElementById('overlay').classList.add('active');
        }

        function closePopup() {
            document.getElementById('popup').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
        }
    </script>
</body>
</html>
