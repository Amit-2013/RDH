<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal Dream Hyundai Workshop</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .tab-content {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Royal Dream Hyundai Workshop</h1>
    <nav>
        <ul>
            <li><a href="#" onclick="showTab('customer-vehicles')">Customer Vehicles Data Storage</a></li>
            <li><a href="#" onclick="showTab('vehicle-management')">Vehicle Management</a></li>
            <li><a href="#" onclick="showTab('data-entry')">Data Entry Form</a></li>
            <li><a href="#" onclick="showTab('vehicle-inspection')">Vehicle Inspection</a></li>
            <li><a href="#" onclick="showTab('parts-inventory')">Parts Inventory</a></li>
            <li><a href="#" onclick="showTab('parts-issued-request')">Parts Issued Request</a></li>
            <li><a href="#" onclick="showTab('parts-history')">Parts History</a></li>
            <li><a href="#" onclick="showTab('parts-check')">Parts Check</a></li>
            <li><a href="#" onclick="showTab('parts-issued-history')">Parts Issued History</a></li>
            <li><a href="#" onclick="showTab('billing-payment')">Billing & Payment</a></li>
        </ul>
    </nav>

    <div id="customer-vehicles" class="tab-content">
        <h2>Customer Vehicles Data Storage</h2>
        <form id="customer-form">
            <label for="customer_name">Customer Name:</label>
            <input type="text" id="customer_name" name="customer_name" required><br>
            <label for="mobile_number">Mobile Number:</label>
            <input type="text" id="mobile_number" name="mobile_number" required><br>
            <label for="vin_number">VIN Number:</label>
            <input type="text" id="vin_number" name="vin_number" required><br>
            <label for="registration_number">Registration Number:</label>
            <input type="text" id="registration_number" name="registration_number" required><br>
            <label for="mileage">Mileage:</label>
            <input type="number" id="mileage" name="mileage" required><br>
            <button type="button" onclick="addCustomer()">Add Customer</button>
        </form>
    </div>

    <div id="vehicle-management" class="tab-content">
        <h2>Vehicle Management</h2>
        <form id="search-form">
            <label for="search_identifier">Search by VIN or Registration Number:</label>
            <input type="text" id="search_identifier" name="search_identifier" required><br>
            <button type="button" onclick="searchCustomer()">Search</button>
        </form>
        <div id="search-results"></div>
    </div>

    <div id="data-entry" class="tab-content">
        <h2>Data Entry Form</h2>
        <form id="data-entry-form">
            <label for="entry_customer_name">Customer Name:</label>
            <input type="text" id="entry_customer_name" name="entry_customer_name" required><br>
            <label for="entry_mobile_number">Mobile Number:</label>
            <input type="text" id="entry_mobile_number" name="entry_mobile_number" required><br>
            <label for="entry_vin_number">VIN Number:</label>
            <input type="text" id="entry_vin_number" name="entry_vin_number" required><br>
            <label for="entry_registration_number">Registration Number:</label>
            <input type="text" id="entry_registration_number" name="entry_registration_number" required><br>
            <label for="entry_current_mileage">Current Mileage:</label>
            <input type="number" id="entry_current_mileage" name="entry_current_mileage" required><br>
            <button type="button" onclick="submitDataEntry()">Submit</button>
        </form>
        <div id="token-info"></div>
    </div>

    <div id="vehicle-inspection" class="tab-content">
        <h2>Vehicle Inspection</h2>
        <form id="inspection-form" enctype="multipart/form-data">
            <label for="inspection_customer_id">Customer ID:</label>
            <input type="number" id="inspection_customer_id" name="inspection_customer_id" required><br>
            <label for="inspection_current_mileage">Current Mileage:</label>
            <input type="number" id="inspection_current_mileage" name="inspection_current_mileage" required><br>
            <label for="right_side_photo">Right Side Photo:</label>
            <input type="file" id="right_side_photo" name="right_side_photo" required><br>
            <label for="left_side_photo">Left Side Photo:</label>
            <input type="file" id="left_side_photo" name="left_side_photo" required><br>
            <label for="front_side_photo">Front Side Photo:</label>
            <input type="file" id="front_side_photo" name="front_side_photo" required><br>
            <label for="back_side_photo">Back Side Photo:</label>
            <input type="file" id="back_side_photo" name="back_side_photo" required><br>
            <label for="inside_photo">Inside Photo:</label>
            <input type="file" id="inside_photo" name="inside_photo" required><br>
            <label for="hood_photo">Hood Photo:</label>
            <input type="file" id="hood_photo" name="hood_photo" required><br>
            <label for="video">360 Degree Video:</label>
            <input type="file" id="video" name="video" required><br>
            <button type="button" onclick="submitInspection()">Submit</button>
        </form>
    </div>

    <div id="parts-inventory" class="tab-content">
        <h2>Parts Inventory</h2>
        <form id="parts-form">
            <label for="part_no">Part No:</label>
            <input type="text" id="part_no" name="part_no" required><br>
            <label for="part_name">Part Name:</label>
            <input type="text" id="part_name" name="part_name" required><br>
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" required><br>
            <button type="button" onclick="addPart()">Add Part</button>
        </form>
    </div>

    <div id="parts-issued-request" class="tab-content">
        <h2>Parts Issued Request</h2>
        <form id="parts-request-form">
            <label for="request_customer_id">Customer ID:</label>
            <input type="number" id="request_customer_id" name="request_customer_id" required><br>
            <label for="request_part_name">Part Name:</label>
            <input type="text" id="request_part_name" name="request_part_name" required><br>
            <label for="request_part_no">Part No:</label>
            <input type="text" id="request_part_no" name="request_part_no" required><br>
            <label for="request_quantity">Quantity:</label>
            <input type="number" id="request_quantity" name="request_quantity" required><br>
            <button type="button" onclick="submitPartsRequest()">Submit</button>
        </form>
    </div>

    <div id="parts-history" class="tab-content">
        <h2>Parts History</h2>
        <form id="parts-history-form">
            <label for="history_identifier">Search by VIN or Registration Number:</label>
            <input type="text" id="history_identifier" name="history_identifier" required><br>
            <button type="button" onclick="searchPartsHistory()">Search</button>
        </form>
        <div id="parts-history-results"></div>
    </div>

    <div id="parts-check" class="tab-content">
        <h2>Parts Check</h2>
        <div id="required-parts">
            <!-- Display required parts here -->
        </div>
    </div>

    <div id="parts-issued-history" class="tab-content">
        <h2>Parts Issued History</h2>
        <form id="issued-history-form">
            <label for="issued_identifier">Search by VIN or Registration Number:</label>
            <input type="text" id="issued_identifier" name="issued_identifier" required><br>
            <button type="button" onclick="searchIssuedHistory()">Search</button>
        </form>
        <div id="issued-history-results"></div>
    </div>

    <div id="billing-payment" class="tab-content">
        <h2>Billing & Payment Details</h2>
        <form id="billing-form">
            <label for="billing_customer_id">Customer ID:</label>
            <input type="number" id="billing_customer_id" name="billing_customer_id" required><br>
            <label for="total_amount">Total Amount:</label>
            <input type="number" id="total_amount" name="total_amount" required><br>
            <label for="payment_method">Payment Method:</label>
            <input type="text" id="payment_method" name="payment_method" required><br>
            <button type="button" onclick="submitBilling()">Submit</button>
        </form>
    </div>

    <script>
        function showTab(tabId) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.style.display = 'none');
            document.getElementById(tabId).style.display = 'block';
        }

        // Add customer form handling
        function addCustomer() {
            const formData = new FormData(document.getElementById('customer-form'));
            fetch('/add_customer', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('Customer added successfully');
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Search customer
        function searchCustomer() {
            const identifier = document.getElementById('search_identifier').value;
            fetch(`/search_customer?identifier=${identifier}`)
            .then(response => response.json())
            .then(data => {
                document.getElementById('search-results').innerText = JSON.stringify(data);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Data entry form handling
        function submitDataEntry() {
            const formData = new FormData(document.getElementById('data-entry-form'));
            fetch('/submit_data_entry', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('token-info').innerText = `Token Number: ${data.token}`;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Vehicle inspection form handling
        function submitInspection() {
            const formData = new FormData(document.getElementById('inspection-form'));
            fetch('/submit_inspection', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('Inspection submitted successfully');
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Add part to inventory
        function addPart() {
            const formData = new FormData(document.getElementById('parts-form'));
            fetch('/add_part', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('Part added successfully');
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Submit parts request
        function submitPartsRequest() {
            const formData = new FormData(document.getElementById('parts-request-form'));
            fetch('/submit_parts_request', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('Parts request submitted successfully');
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Search parts history
        function searchPartsHistory() {
            const identifier = document.getElementById('history_identifier').value;
            fetch(`/search_parts_history?identifier=${identifier}`)
            .then(response => response.json())
            .then(data => {
                document.getElementById('parts-history-results').innerText = JSON.stringify(data);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Search parts issued history
        function searchIssuedHistory() {
            const identifier = document.getElementById('issued_identifier').value;
            fetch(`/search_issued_history?identifier=${identifier}`)
            .then(response => response.json())
            .then(data => {
                document.getElementById('issued-history-results').innerText = JSON.stringify(data);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Submit billing details
        function submitBilling() {
            const formData = new FormData(document.getElementById('billing-form'));
            fetch('/submit_billing', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('Billing details submitted successfully');
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
